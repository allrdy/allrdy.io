import{createElement,Fragment}from"react";var R=0,k=1,j=2,D=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),x=new Set(["script","style"]),_=/([\@\.a-z0-9_\:\-]*)\s*?=?\s*?(['"]?)([\s\S]*?)\2\s+/gim,o=/(?:<(\/?)([a-zA-Z][a-zA-Z0-9\:-]*)(?:\s([^>]*?))?((?:\s*\/)?)>|(<\!\-\-)([\s\S]*?)(\-\->)|(<\!)([\s\S]*?)(>))/gm;function P(e){let t,n={};if(e)for(_.lastIndex=0,e=" "+(e||"")+" ";t=_.exec(e);)" "!==t[0]&&(n[t[1]]=t[3]);return n}function w(e){let t,n,l,a,s,r,i,c,d,h="string"==typeof e?e:e.value,p=[];o.lastIndex=0,n=t={type:0,children:[]};let u=0;function g(){a=h.substring(u,o.lastIndex-l[0].length),a&&n.children.push({type:2,value:a,parent:n})}for(;l=o.exec(h);)if(r=l[5]||l[8],i=l[6]||l[9],c=l[7]||l[10],x.has(n.name)&&l[2]!==n.name)s=o.lastIndex-l[0].length,n.children.length>0&&(n.children[0].value+=l[0]);else{if("\x3c!--"===r){if(s=o.lastIndex-l[0].length,x.has(n.name))continue;d={type:3,value:i,parent:n,loc:[{start:s,end:s+r.length},{start:o.lastIndex-c.length,end:o.lastIndex}]},p.push(d),d.parent.children.push(d)}else if("<!"===r)s=o.lastIndex-l[0].length,d={type:4,value:i,parent:n,loc:[{start:s,end:s+r.length},{start:o.lastIndex-c.length,end:o.lastIndex}]},p.push(d),d.parent.children.push(d);else if("/"!==l[1]){if(g(),x.has(n.name)){u=o.lastIndex,g();continue}d={type:1,name:l[2]+"",attributes:P(l[3]),parent:n,children:[],loc:[{start:o.lastIndex-l[0].length,end:o.lastIndex}]},p.push(d),d.parent.children.push(d),l[4]&&l[4].indexOf("/")>-1||D.has(d.name)?(d.loc[1]=d.loc[0],d.isSelfClosingTag=!0):n=d}else g(),l[2]+""===n.name?(d=n,n=d.parent,d.loc.push({start:o.lastIndex-l[0].length,end:o.lastIndex}),a=h.substring(d.loc[0].end,d.loc[1].start),0===d.children.length&&d.children.push({type:2,value:a,parent:n})):l[2]+""===p[p.length-1].name&&!0===p[p.length-1].isSelfClosingTag&&(d=p[p.length-1],d.loc.push({start:o.lastIndex-l[0].length,end:o.lastIndex}));u=o.lastIndex}return a=h.slice(u),n.children.push({type:2,value:a,parent:n}),t}let ids=0;function convert(e){let t=w(e.toString().trim()),n=ids++,l=0;const a=function e(t){const a=Array.isArray(t.children)?t.children.map((t=>t.type===k?e(t):t.type===j&&t.value.trim()?t.value:void 0)).filter((e=>!!e)):void 0;if(t.type===R)return createElement(Fragment,{},a);if(t.type===k){const{class:e,...s}=t.attributes;return createElement(t.name,{...s,className:e,key:`${n}-${l++}`},a)}}(t);return a.props.children}export{convert as default};